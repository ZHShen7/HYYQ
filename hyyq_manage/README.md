# çº¦çƒç³»ç»Ÿç®¡ç†åå°

åŸºäº React + TypeScript + Vite + Ant Design + Tailwind CSS æ„å»ºçš„çº¦çƒç³»ç»Ÿç®¡ç†åå°ã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18
- **ç±»å‹æ£€æŸ¥**: TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UI ç»„ä»¶åº“**: Ant Design 5.x
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **è·¯ç”±ç®¡ç†**: React Router v6
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ—¶é—´å¤„ç†**: Day.js

## åŠŸèƒ½æ¨¡å—

### âœ… å·²å®Œæˆæ¨¡å—

1. **ç®¡ç†å‘˜è®¤è¯**
   - ç‹¬ç«‹çš„ç®¡ç†å‘˜ç™»å½•ç³»ç»Ÿ
   - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆè¶…çº§ç®¡ç†å‘˜ã€è¿è¥ç®¡ç†å‘˜ã€å®¡æ ¸å‘˜ï¼‰
   - ç™»å½•çŠ¶æ€ç®¡ç†å’ŒæŒä¹…åŒ–
   - è·¯ç”±æƒé™å®ˆå«

2. **ç”¨æˆ·ç®¡ç†**
   - ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹ï¼ˆæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µï¼‰
   - ç”¨æˆ·è¯¦æƒ…æŸ¥çœ‹
   - ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆå¯ç”¨/ç¦ç”¨/å†»ç»“ï¼‰
   - ç”¨æˆ·æ•°æ®å¯¼å‡º

3. **çº¦çƒç®¡ç†**
   - çº¦çƒåˆ—è¡¨æŸ¥çœ‹ï¼ˆæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µï¼‰
   - çº¦çƒè¯¦æƒ…æŸ¥çœ‹ï¼ˆåŒ…å«å‚ä¸è€…åˆ—è¡¨ã€å›¾ç‰‡å±•ç¤ºï¼‰
   - çº¦çƒä¿¡æ¯ç¼–è¾‘
   - çº¦çƒçŠ¶æ€ç®¡ç†ï¼ˆè¿›è¡Œä¸­/å·²å®Œæˆ/å·²å–æ¶ˆï¼‰
   - çº¦çƒåˆ é™¤åŠŸèƒ½
   - çº¦çƒæ•°æ®å¯¼å‡º

### ğŸš§ å ä½æ¨¡å—

- å†…å®¹å®¡æ ¸æ¨¡å—
- æ•°æ®åˆ†ææ¨¡å—
- ç³»ç»Ÿç®¡ç†æ¨¡å—

## é¡¹ç›®ç»“æ„

```
hyyq_manage/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/            # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/            # è®¤è¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ user/            # ç”¨æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ match/           # çº¦çƒç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/       # ä»ªè¡¨ç›˜é¡µé¢
â”‚   â”‚   â””â”€â”€ error/           # é”™è¯¯é¡µé¢
â”‚   â”œâ”€â”€ services/            # API æœåŠ¡
â”‚   â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ constants/           # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ router/              # è·¯ç”±é…ç½®
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â””â”€â”€ ...
```

## å¼€å‘ç¯å¢ƒæ­å»º

### å‰ç½®è¦æ±‚

- Node.js >= 16
- npm æˆ– yarn
- MongoDB æ•°æ®åº“

### åç«¯åˆå§‹åŒ–

1. å¯åŠ¨åç«¯æœåŠ¡ï¼š
```bash
cd hyyq_backend
npm install
npm start
```

2. åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·ï¼š
```bash
cd hyyq_backend
node scripts/init-admin.js
```

è¿™å°†åˆ›å»ºä»¥ä¸‹ç®¡ç†å‘˜è´¦å·ï¼š
- è¶…çº§ç®¡ç†å‘˜ï¼šadmin / admin123
- è¿è¥ç®¡ç†å‘˜ï¼šoperator / operator123

### å‰ç«¯å¯åŠ¨

1. å®‰è£…ä¾èµ–ï¼š
```bash
cd hyyq_manage
npm install
```

2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

é¡¹ç›®å°†åœ¨ http://localhost:5173 å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## åç«¯æ¥å£è¯´æ˜

### ç®¡ç†å‘˜è®¤è¯æ¥å£
- `POST /api/admin/login` - ç®¡ç†å‘˜ç™»å½•
- `GET /api/admin/info` - è·å–ç®¡ç†å‘˜ä¿¡æ¯
- `POST /api/admin/logout` - ç®¡ç†å‘˜é€€å‡º

### ç”¨æˆ·ç®¡ç†æ¥å£
- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œç­›é€‰ï¼‰
- `PUT /api/admin/users/:id/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€

### çº¦çƒç®¡ç†æ¥å£
- `GET /api/admin/matches` - è·å–çº¦çƒåˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œç­›é€‰ï¼‰
- `PUT /api/admin/matches/:id` - æ›´æ–°çº¦çƒä¿¡æ¯
- `PUT /api/admin/matches/:id/status` - æ›´æ–°çº¦çƒçŠ¶æ€
- `DELETE /api/admin/matches/:id` - åˆ é™¤çº¦çƒ

### ç”¨æˆ·çº¦çƒæ¥å£ï¼ˆç°æœ‰ï¼‰
- `GET /api/matches` - è·å–çº¦çƒåˆ—è¡¨
- `POST /api/matches` - å‘å¸ƒçº¦çƒ
- `PUT /api/matches/:id` - ä¿®æ”¹çº¦çƒ
- `PUT /api/matches/:id/status` - æ›´æ–°çº¦çƒçŠ¶æ€

## ç™»å½•è¯´æ˜

### ç®¡ç†å‘˜ç™»å½•

ç³»ç»Ÿä½¿ç”¨ç‹¬ç«‹çš„ç®¡ç†å‘˜è´¦å·ä½“ç³»ï¼Œä¸æ™®é€šç”¨æˆ·ç³»ç»Ÿåˆ†ç¦»ï¼š

1. è®¿é—® http://localhost:5173
2. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼š
   - è¶…çº§ç®¡ç†å‘˜: admin / admin123
   - è¿è¥ç®¡ç†å‘˜: operator / operator123
3. ç™»å½•æˆåŠŸåå³å¯ä½¿ç”¨ç®¡ç†åŠŸèƒ½

### æƒé™è¯´æ˜

- **è¶…çº§ç®¡ç†å‘˜ (super)**: æ‹¥æœ‰æ‰€æœ‰æƒé™
- **è¿è¥ç®¡ç†å‘˜ (operator)**: ç”¨æˆ·ç®¡ç†ã€çº¦çƒç®¡ç†æƒé™
- **å®¡æ ¸å‘˜ (auditor)**: å†…å®¹å®¡æ ¸æƒé™

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨ ESLint å’Œ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–
- ç»„ä»¶å‘½åä½¿ç”¨ PascalCase
- æ–‡ä»¶å‘½åä½¿ç”¨ kebab-case
- ä¼˜å…ˆä½¿ç”¨ Tailwind CSS ç±»åè¿›è¡Œæ ·å¼è®¾ç½®

### Git æäº¤è§„èŒƒ
```
<ç±»å‹>(<èŒƒå›´>): <ç®€çŸ­æè¿°>

feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼åŒ–
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºæˆ–è¾…åŠ©å·¥å…·å˜åŠ¨
```

## éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. ä¿®æ”¹ `src/constants/index.ts` ä¸­çš„ `API_BASE_URL` ä¸ºç”Ÿäº§ç¯å¢ƒåœ°å€
2. è¿è¡Œ `npm run build` æ„å»ºç”Ÿäº§ç‰ˆæœ¬
3. å°† `dist` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨

### ç¯å¢ƒå˜é‡

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ä¸åŒç¯å¢ƒçš„ API åœ°å€ï¼š

```bash
# å¼€å‘ç¯å¢ƒ
VITE_API_BASE_URL=http://localhost:3000

# ç”Ÿäº§ç¯å¢ƒ
VITE_API_BASE_URL=https://your-api-domain.com
```

## æ•°æ®åº“åˆå§‹åŒ–

### ç®¡ç†å‘˜è´¦å·åˆå§‹åŒ–

è¿è¡Œåˆå§‹åŒ–è„šæœ¬åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š

```bash
cd hyyq_backend
node scripts/init-admin.js
```

### æ•°æ®åº“ç»“æ„

ç³»ç»ŸåŒ…å«ä»¥ä¸‹æ•°æ®æ¨¡å‹ï¼š

1. **Admin** - ç®¡ç†å‘˜è´¦å·
   - username: ç”¨æˆ·å
   - password: å¯†ç 
   - name: å§“å
   - role: è§’è‰² (super/operator/auditor)
   - status: çŠ¶æ€ (active/disabled)

2. **User** - æ™®é€šç”¨æˆ·
   - username, name, phone: åŸºæœ¬ä¿¡æ¯
   - loginType: ç™»å½•æ–¹å¼ (password/wechat)
   - status: ç”¨æˆ·çŠ¶æ€

3. **Match** - çº¦çƒä¿¡æ¯
   - content, sport, matchTime, location: çº¦çƒè¯¦æƒ…
   - needPeople, currentPeople: äººæ•°ä¿¡æ¯
   - status: çº¦çƒçŠ¶æ€ (active/completed/cancelled)

## ç³»ç»Ÿç‰¹æ€§

### ğŸ” ç‹¬ç«‹ç®¡ç†å‘˜ç³»ç»Ÿ
- ä¸æ™®é€šç”¨æˆ·ç³»ç»Ÿå®Œå…¨åˆ†ç¦»
- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- å®‰å…¨çš„tokenè®¤è¯æœºåˆ¶

### ğŸ“Š å®Œæ•´çš„çº¦çƒç®¡ç†
- å®æ—¶çº¦çƒæ•°æ®ç®¡ç†
- æ”¯æŒçº¦çƒä¿¡æ¯ä¿®æ”¹
- çµæ´»çš„çŠ¶æ€æ§åˆ¶

### ğŸ‘¥ å…¨é¢çš„ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹å’Œç®¡ç†
- ç”¨æˆ·çŠ¶æ€æ§åˆ¶
- æ•°æ®å¯¼å‡ºåŠŸèƒ½

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- å“åº”å¼è®¾è®¡
- Tailwind CSS æ ·å¼ç³»ç»Ÿ
- Ant Design ç»„ä»¶åº“

## åç»­å¼€å‘è®¡åˆ’

1. **åŠŸèƒ½å®Œå–„**: å®Œæˆç”¨æˆ·æ¶ˆæ¯æ¨é€ã€æ•°æ®ç»Ÿè®¡ç­‰åŠŸèƒ½
2. **æƒé™ç»†åŒ–**: å®ç°æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶
3. **æ•°æ®åˆ†æ**: å®Œå–„æ•°æ®åˆ†ææ¨¡å—ï¼Œæä¾›å›¾è¡¨å’Œç»Ÿè®¡åŠŸèƒ½
4. **å†…å®¹å®¡æ ¸**: å®ç°å†…å®¹å®¡æ ¸å·¥ä½œæµ
5. **ç³»ç»Ÿé…ç½®**: æ·»åŠ ç³»ç»Ÿå‚æ•°é…ç½®åŠŸèƒ½
6. **æ“ä½œæ—¥å¿—**: è®°å½•ç®¡ç†å‘˜æ“ä½œæ—¥å¿—

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–åœ¨é¡¹ç›®ä¸­æäº¤ Issueã€‚
